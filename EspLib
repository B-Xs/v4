local a={MasterSwitch=false,BoxEnabled=false,BoxColor=Color3.fromRGB(247,36,117),BoxThickness=1,NameColor=Color3.fromRGB(247,36,117),TracerColor=Color3.fromRGB(247,36,117),BoxStaticXFactor=2.6,BoxStaticYFactor=2,CharacterOffset=CFrame.new(0,-0.25,0),MaxDistance=1000,TracerEnabled=false,NameEnabled=false,HighlightClosestPlayer=false,TeamCheck=false,EnemyColor=Color3.fromRGB(255,0,0),AllyColor=Color3.fromRGB(0,255,0),BeastCheck=false,BeastColor=Color3.fromRGB(255,165,0),HighlightP=false,OutlinesEnabled=true,CornerSize=1,CornerThickness=2,ViewTracerEnabled=false,ViewTracerLength=10}getgenv().ESP=a;local b=workspace.CurrentCamera;local c=game:GetService("RunService")local d=game:GetService("Players")local e=d.LocalPlayer;local f=e:GetMouse()local g={}local function h(a)return Vector2.new(math.floor(a.X),math.floor(a.Y))end;local function h(a)local a,b=b:WorldToViewportPoint(a.Position)return Vector2.new(a.X,a.Y),b and a.Z>0,a.Z end;local function i(a)return a:FindFirstChild("Hammer")~=nil end;local function j()local a,c=nil,math.huge;for d,d in ipairs(d:GetPlayers())do if d~=e and d.Character then local e=d.Character:FindFirstChild("HumanoidRootPart")local g=d.Character:FindFirstChild("Humanoid")if e and g and g.Health>0 then local b,e=b:WorldToViewportPoint(e.Position)if e then local b=Vector2.new(b.X,b.Y)-Vector2.new(f.X,f.Y).Magnitude;if b<c then c=b;a=d end end end end end;return a end;local f={}f.__index=f;function f.new(b)local c=setmetatable({},f)c.Player=b;c.BoxLines={}for b=1,4 do local d=Drawing.new("Line")d.Thickness=a.BoxThickness;d.Color=a.BoxColor;c.BoxLines[b]=d end;c.Corners={}c.CornerOutlines={}for b=1,8 do local d=Drawing.new("Line")d.Thickness=a.CornerThickness+2;d.Color=Color3.fromRGB(0,0,0)d.ZIndex=0;c.CornerOutlines[b]=d;local d=Drawing.new("Line")d.Thickness=a.CornerThickness;c.Corners[b]=d end;c.Name=Drawing.new("Text")c.Name.Size=15;c.Name.Center=true;c.Name.Outline=true;c.TracerOutline=Drawing.new("Line")c.TracerOutline.Thickness=a.BoxThickness+2;c.TracerOutline.Color=Color3.fromRGB(0,0,0)c.TracerOutline.ZIndex=0;c.Tracer=Drawing.new("Line")c.Tracer.Thickness=a.BoxThickness;c.ViewTracer=Drawing.new("Line")c.ViewTracer.Thickness=a.BoxThickness;c.ViewTracer.Color=a.BoxColor;c.ViewTracer.Visible=false;c.Highlight=Instance.new("Highlight")c.Highlight.Adornee=nil;c.Highlight.DepthMode=Enum.HighlightDepthMode.AlwaysOnTop;c.Highlight.FillTransparency=0.5;c.Highlight.OutlineTransparency=0;c.Highlight.Parent=game:GetService("CoreGui")return c end;function f:SetVisible(b)for c=1,8 do self.Corners[c].Visible=b and a.BoxEnabled;self.CornerOutlines[c].Visible=b and a.BoxEnabled and a.OutlinesEnabled end;for c=1,4 do self.BoxLines[c].Visible=b and a.BoxEnabled end;self.Name.Visible=b and a.NameEnabled;self.Name.Outline=a.OutlinesEnabled;self.Tracer.Visible=b and a.TracerEnabled;self.TracerOutline.Visible=b and a.TracerEnabled and a.OutlinesEnabled;self.Highlight.Enabled=b and a.HighlightP;self.ViewTracer.Visible=b and a.ViewTracerEnabled end;function f:Update()local c=self.Player.Character;if not c then return self:SetVisible(false)end;local d=c:FindFirstChild("HumanoidRootPart")local f=c:FindFirstChild("Humanoid")if not d or not f or f.Health<=0 then return self:SetVisible(false)end;local f=b.CFrame.Position-d.Position.Magnitude;if f>a.MaxDistance then return self:SetVisible(false)end;local f,g,h=h(d.CFrame*a.CharacterOffset)if not g then return self:SetVisible(false)end;local g=1/(h/3*math.tan(math.rad(b.FieldOfView/2))*2)*1000;local g=Vector2.new(g*a.BoxStaticXFactor,g*a.BoxStaticYFactor)local h=a.BoxColor;if a.BeastCheck and i(c)then h=a.BeastColor elseif a.TeamCheck then h=e.TeamColor==self.Player.TeamColor and a.AllyColor or a.EnemyColor end;if a.HighlightClosestPlayer and j()==self.Player then h=Color3.fromRGB(255,255,255)end;local e=f-g/2;local f=e+Vector2.new(g.X,0)local i=e+Vector2.new(0,g.Y)local j=e+g;local k={e,f,j,i}for a=1,4 do self.BoxLines[a].From=k[a]self.BoxLines[a].To=k[a%4+1]self.BoxLines[a].Color=h end;local k=math.min(g.X,g.Y)/8;local f={{e,e+Vector2.new(k,0)},{e,e+Vector2.new(0,k)},{f,f+Vector2.new(-k,0)},{f,f+Vector2.new(0,k)},{j,j+Vector2.new(-k,0)},{j,j+Vector2.new(0,-k)},{i,i+Vector2.new(k,0)},{i,i+Vector2.new(0,-k)}}for a=1,8 do self.Corners[a].From=f[a][1]self.Corners[a].To=f[a][2]self.Corners[a].Color=h;self.CornerOutlines[a].From=f[a][1]self.CornerOutlines[a].To=f[a][2]end;self.Name.Position=Vector2.new(e.X+g.X/2,e.Y-15)self.Name.Text=self.Player.Name;self.Name.Color=h;local f=Vector2.new(b.ViewportSize.X/2,b.ViewportSize.Y)local e=Vector2.new(e.X+g.X/2,e.Y+g.Y)self.TracerOutline.From=f;self.TracerOutline.To=e;self.Tracer.From=f;self.Tracer.To=e;self.Tracer.Color=h;if a.ViewTracerEnabled then local c=c:FindFirstChild("Head")or d;if c then local a,c=c.Position,c.Position+c.CFrame.LookVector*a.ViewTracerLength;local a,d=b:WorldToViewportPoint(a)local b,c=b:WorldToViewportPoint(c)self.ViewTracer.From=Vector2.new(a.X,a.Y)self.ViewTracer.To=Vector2.new(b.X,b.Y)self.ViewTracer.Color=h end end;self.Highlight.Adornee=c;self.Highlight.FillColor=h;self.Highlight.OutlineColor=Color3.new(0,0,0)self:SetVisible(true)end;function f:Destroy()for a=1,8 do self.Corners[a]:Remove()self.CornerOutlines[a]:Remove()end;for a=1,4 do self.BoxLines[a]:Remove()end;self.Name:Remove()self.Tracer:Remove()self.TracerOutline:Remove()if self.ViewTracer then self.ViewTracer:Remove()end;self.Highlight:Destroy()end;local function b()if not a.MasterSwitch then for a,a in pairs(g)do a:SetVisible(false)end;return end;for a,a in ipairs(d:GetPlayers())do if a~=e then if not g[a]then g[a]=f.new(a)end;g[a]:Update()end end end;d.PlayerRemoving:Connect(function(a)if g[a]then g[a]:Destroy()g[a]=nil end end)d.PlayerAdded:Connect(function(a)a.CharacterAdded:Connect(function()g[a]=f.new(a)end)end)c.RenderStepped:Connect(b)return a
